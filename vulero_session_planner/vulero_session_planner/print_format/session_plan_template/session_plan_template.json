{
 "doctype": "Print Format",
 "name": "Session Plan Template",
 "doc_type": "Session Plan",
 "module": "Vulero Session Planner",
 "standard": "Yes",
 "custom_format": 1,
 "disabled": 0,
 "print_format_for": "DocType",
 "print_format_type": "Jinja",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "font_size": 12,
 "margin_top": 10.0,
 "margin_bottom": 10.0,
 "margin_left": 10.0,
 "margin_right": 10.0,
 "html": "{%- set coach_name = frappe.db.get_value(\"Coach Profile\", doc.coach, \"full_name\") if doc.coach else \"\" -%}\n{%- set assistant_name = frappe.db.get_value(\"Coach Profile\", doc.assistant_coach, \"full_name\") if doc.assistant_coach else \"\" -%}\n{%- set instructor_name = frappe.db.get_value(\"Instructor Profile\", doc.current_instructor, \"full_name\") if doc.current_instructor else \"\" -%}\n{%- set blocks = doc.blocks | sort(attribute=\"sequence\") -%}\n\n<style>\n  @page { size: A4 landscape; }\n\n  .session-plan {\n    font-family: \"Times New Roman\", serif;\n    color: #000;\n    font-size: 12px;\n  }\n  .header-row {\n    display: flex;\n    align-items: flex-start;\n    justify-content: space-between;\n    margin-bottom: 6px;\n  }\n  .logo-col {\n    width: 90px;\n  }\n  .logo-box {\n    width: 70px;\n    height: 70px;\n    border: 1px solid #444;\n    margin-bottom: 6px;\n  }\n  .title-col {\n    flex: 1;\n    text-align: center;\n    font-size: 16px;\n    font-weight: bold;\n    letter-spacing: 1px;\n    margin-top: 6px;\n  }\n  .meta-table {\n    width: 100%;\n    border-collapse: collapse;\n    margin-bottom: 10px;\n  }\n  .meta-table td {\n    padding: 4px 6px;\n    vertical-align: bottom;\n    white-space: nowrap;\n  }\n  .line {\n    display: inline-block;\n    min-width: 90px;\n    border-bottom: 1px solid #000;\n    padding: 0 4px 1px 4px;\n  }\n  .line.wide {\n    min-width: 180px;\n  }\n  .line.stretch {\n    min-width: 240px;\n  }\n  .blocks-table {\n    width: 100%;\n    border-collapse: collapse;\n    table-layout: fixed;\n  }\n  .blocks-table th,\n  .blocks-table td {\n    border: 1px solid #000;\n    padding: 6px;\n    vertical-align: top;\n  }\n  .blocks-table th {\n    font-weight: bold;\n    text-align: center;\n  }\n  .content-cell {\n    width: 18%;\n  }\n  .time-cell {\n    width: 8%;\n    text-align: center;\n  }\n  .diagram-cell {\n    width: 28%;\n    text-align: center;\n  }\n  .desc-cell {\n    width: 23%;\n  }\n  .coach-cell {\n    width: 23%;\n  }\n  .phase {\n    font-weight: bold;\n    text-transform: capitalize;\n  }\n  .sub {\n    margin-top: 4px;\n  }\n  .diagram-cell img {\n    max-width: 100%;\n    max-height: 120px;\n    object-fit: contain;\n  }\n  .signature-row {\n    display: flex;\n    justify-content: space-between;\n    margin-top: 18px;\n    font-size: 12px;\n  }\n  .signature-row span {\n    display: inline-block;\n    min-width: 220px;\n    border-bottom: 1px solid #000;\n    height: 12px;\n  }\n</style>\n\n<div class=\"session-plan\">\n  <div class=\"header-row\">\n    <div class=\"logo-col\">\n      <div class=\"logo-box\"></div>\n      <div class=\"logo-box\"></div>\n    </div>\n    <div class=\"title-col\">SESSION PLAN</div>\n    <div class=\"logo-col\"></div>\n  </div>\n\n  <table class=\"meta-table\">\n    <tr>\n      <td>Name of the coach <span class=\"line\">{{ coach_name }}</span></td>\n      <td>Date <span class=\"line\">{{ frappe.utils.format_date(doc.session_date) if doc.session_date else \"\" }}</span></td>\n      <td>Time <span class=\"line\">{{ doc.session_time or \"\" }}</span></td>\n      <td>Age group <span class=\"line\">{{ doc.target_group or \"\" }}</span></td>\n      <td>No of players <span class=\"line\">{{ doc.number_of_players or \"\" }}</span></td>\n      <td>Duration <span class=\"line\">{{ doc.duration_minutes or \"\" }}</span></td>\n    </tr>\n    <tr>\n      <td colspan=\"3\">Ass. Coach name <span class=\"line wide\">{{ assistant_name }}</span></td>\n      <td colspan=\"3\">Location of the training <span class=\"line wide\">{{ doc.training_location or \"\" }}</span></td>\n    </tr>\n    <tr>\n      <td colspan=\"3\">Equipment needed <span class=\"line wide\">{{ doc.equipment or \"\" }}</span></td>\n      <td colspan=\"3\">Instructor <span class=\"line wide\">{{ instructor_name }}</span></td>\n    </tr>\n    <tr>\n      <td colspan=\"6\">Topic <span class=\"line stretch\">{{ doc.theme or \"\" }}</span> objective of the training <span class=\"line stretch\">{{ (doc.objectives or \"\") | replace(\"\\n\", \" \") }}</span></td>\n    </tr>\n  </table>\n\n  <table class=\"blocks-table\">\n    <thead>\n      <tr>\n        <th>content</th>\n        <th>time</th>\n        <th>Diagram</th>\n        <th>description</th>\n        <th>coaching point</th>\n      </tr>\n    </thead>\n    <tbody>\n      {% if blocks and blocks|length > 0 %}\n        {% for row in blocks %}\n          <tr>\n            <td class=\"content-cell\">\n              <div class=\"phase\">{{ row.phase or \"\" }}</div>\n              <div class=\"sub\">{{ row.block_type or \"\" }}</div>\n            </td>\n            <td class=\"time-cell\">{{ row.time_minutes or \"\" }}</td>\n            <td class=\"diagram-cell\">\n              {% if row.diagram_preview %}\n                <img src=\"{{ frappe.utils.get_url(row.diagram_preview) }}\" alt=\"Diagram\">\n              {% endif %}\n            </td>\n            <td class=\"desc-cell\">{{ (row.learning_activities or \"\") | replace(\"\\n\", \"<br>\") | safe }}</td>\n            <td class=\"coach-cell\">{{ (row.coaching_points or \"\") | replace(\"\\n\", \"<br>\") | safe }}</td>\n          </tr>\n        {% endfor %}\n      {% else %}\n        <tr>\n          <td class=\"content-cell\"></td>\n          <td class=\"time-cell\"></td>\n          <td class=\"diagram-cell\"></td>\n          <td class=\"desc-cell\"></td>\n          <td class=\"coach-cell\"></td>\n        </tr>\n      {% endif %}\n    </tbody>\n  </table>\n\n  <div class=\"signature-row\">\n    <div>NAME <span></span></div>\n    <div>SIGN <span></span></div>\n  </div>\n</div>"
}
